<%- include('partials/header') %>

    <div class="container">
        <div class="detail-section">
            <% if (specificData && specificData.name) { %>
                <h1 class="detail-title"><%= specificData.name %> âœ¨</h1>
                
                <div class="detail-content-wrapper">
                    <% if (specificData.img) { %>
                        <img src= <%= specificData.img %> alt="<%= specificData.name %>" class="detail-image" onerror="this.style.display='none'">
                    <% } %>

                    <div class="detail-info-section">
                        <div class="row">
                            <div class="col-md-6">
                                <% Object.entries(specificData).forEach(([key, value]) => { %>
                                    <% if (key !== 'img' && value && typeof value !== 'object' && !key.includes('id')) { %>
                                        <p class="info-label"><%= capitalizeFirstLetter(key) %>:</p>
                                        <p class="info-value"><%= value %></p>
                                    <% } else if (Array.isArray(value)) { %>
                                        <p class="info-label"><%= capitalizeFirstLetter(key).replaceAll('_', ' ') + 's' %>:</p>
                                        <div class="info-value">
                                            <% Object.values(value).forEach(function(subValue) { %>
                                                <a href="<%= '/' + ejsContent.other_type + '/' + subValue.id %>">
                                                    <p class="info-label"><%= capitalizeFirstLetter(subValue.name) %>:</p>
                                                </a>
                                                <p class="info-value"><%= subValue.description %></p>
                                            <% }); %>
                                        </div>
                                    <% } %>
                                <% }); %>
                            </div>
                        </div>

                        <% if (specificData.abilities && specificData.abilities.length > 0) { %>
                            <p class="info-label">Abilities:</p>
                            <div>
                                <% specificData.abilities.forEach(function(ability) { %>
                                    <span class="badge-custom"><%= ability %></span>
                                <% }); %>
                            </div>
                        <% } %>

                        <% if (specificData.description) { %>
                            <p class="info-label">Description:</p>
                            <p class="info-value"><%= specificData.description %></p>
                        <% } %>
                    </div>
                </div>

                <div class="text-center mt-4">
                    <a href="<%= '/' + ejsContent.type %>" class="btn btn-primary">Back to <%= ejsContent.title %></a>
                </div>
            <% } else { %>
                <div class="error-container">
                    <p class="error-message"><%= ejsContent.title %> not found! ðŸ˜¢</p>
                    <a href="<%= '/' + ejsContent.type %>" class="btn btn-primary">Back to <%= ejsContent.title %></a>
                </div>
            <% } %>
        </div>
    </div>

<%- include('partials/footer') %>
